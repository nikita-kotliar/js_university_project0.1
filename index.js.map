{"version":3,"file":"index.js","sources":["../src/js/exercises.js","../src/js/footer.js","../src/js/header.js"],"sourcesContent":["import handlerStartBtn from './exercises_card.js';\r\nimport { displayQuote } from './localalStorageLogical.js';\r\nconst refs = {\r\n  filters: document.querySelector('.filters'),\r\n  navButtons: document.querySelector('.nav-buttons'),\r\n  musclesBtn: document.querySelector('.muscles-btn'),\r\n  exercisesTitle: document.querySelector('.exercises-title'),\r\n  searchForm: document.querySelector('.search-form'),\r\n  loadMoreBtn: document.querySelector('.load-more-btn'),\r\n  quoteContainer: document.querySelector('.quote'),\r\n  pagination: document.querySelector('.pagination'),\r\n  exercises: document.querySelector('.exercises-div'),\r\n};\r\n\r\nlet limit = window.innerWidth < 768 ? 9 : 12;\r\nlet limitx = window.innerWidth < 768 ? 8 : 10;\r\nlet page = 1;\r\n\r\nlet currentFilter = 'Muscles';\r\nlet searchQuery = 'Muscles';\r\nlet keyWord = '';\r\nlet filter = '';\r\nlet name = '';\r\nlet localResponse = [];\r\n\r\ndisplayQuote(refs.quoteContainer);\r\nfetchFilters();\r\nrefs.musclesBtn.classList.add('active-btn');\r\n\r\nrefs.filters.addEventListener('click', pressFilterBtn);\r\nrefs.exercises.addEventListener('click', loadExercises);\r\nrefs.searchForm.addEventListener('input', onLiveSearch);\r\nrefs.loadMoreBtn?.addEventListener('click', loadMore);\r\n\r\nasync function fetchFilters(reset = true) {\r\n  if (reset) {\r\n    page = 1;\r\n    refs.exercises.innerHTML = '';\r\n  }\r\n\r\n  let url = `https://your-energy.b.goit.study/api/filters?filter=${currentFilter}&page=${page}&limit=${limit}`;\r\n\r\n  if (searchQuery.trim()) {\r\n    url += `&name=${searchQuery}`;\r\n  }\r\n\r\n  const res = await fetch(url);\r\n  const data = await res.json();\r\n\r\n  if (!data.results.length) {\r\n    showNoResults();\r\n    return;\r\n  }\r\n\r\n  makeFilterCards(data.results);\r\n  renderPagination(data.totalPages);\r\n}\r\n\r\nfunction makeFilterCards(items) {\r\n  const markup = `\r\n    <ul class=\"exercises\">\r\n      ${items\r\n        .map(({ name, filter, imgURL }) => {\r\n          return `\r\n            <li class=\"exercise\">\r\n              <img\r\n                src=\"${imgURL}?w=290&h=242\"\r\n                srcset=\"\r\n                  ${imgURL}?w=335&h=225 335w,\r\n                  ${imgURL}?w=225&h=225 225w,\r\n                  ${imgURL}?w=290&h=242 290w\r\n                \"\r\n                sizes=\"(max-width: 767px) 335px,\r\n                       (min-width: 768px) and (max-width: 1439px) 225px,\r\n                       290px\"\r\n                alt=\"${name}\"\r\n                loading=\"lazy\"\r\n                class=\"exercise-image\"\r\n              />\r\n\r\n              <div class=\"exercise-info\">\r\n                <h2 class=\"exercise-subtitle\">\r\n                  ${name[0].toUpperCase() + name.slice(1)}\r\n                </h2>\r\n                <p class=\"exercise-filter\">${filter}</p>\r\n              </div>\r\n            </li>\r\n          `;\r\n        })\r\n        .join('')}\r\n    </ul>\r\n    <ul class=\"nav-buttons pagination\" id=\"pagination-container\"></ul>\r\n  `;\r\n\r\n  refs.exercises.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction pressFilterBtn(event) {\r\n  if (event.target.tagName !== 'BUTTON') return;\r\n\r\n  document.querySelector('.active-btn')?.classList.remove('active-btn');\r\n  event.target.classList.add('active-btn');\r\n  if (event.target.classList.contains('muscles-btn')) {\r\n    currentFilter = 'Muscles';\r\n  } else if (event.target.classList.contains('bodyparts-btn')) {\r\n    currentFilter = 'Body parts';\r\n  } else if (event.target.classList.contains('equipment-btn')) {\r\n    currentFilter = 'Equipment';\r\n  }\r\n\r\n  refs.exercisesTitle.textContent = 'Exercises';\r\n  refs.searchForm.style.display = 'none';\r\n\r\n  fetchFilters(true);\r\n}\r\n\r\nasync function loadExercises(event) {\r\n  const card = event.target.closest('.exercise');\r\n  if (!card) return;\r\n\r\n  const filterEl = card.querySelector('.exercise-filter');\r\n  const nameEl = card.querySelector('.exercise-subtitle');\r\n\r\n  if (!filterEl || !nameEl) return;\r\n\r\n  filter = filterEl.textContent;\r\n  name = nameEl.textContent.toLowerCase();\r\n\r\n  refs.exercisesTitle.innerHTML = `\r\n    <ul class=\"exercises-title\">\r\n      Exercises / <span>${capitalize(name)}</span>\r\n    </ul>\r\n  `;\r\n\r\n  refs.searchForm.style.display = 'block';\r\n\r\n  page = 1;\r\n  refs.exercises.innerHTML = '';\r\n\r\n  await fetchExercises();\r\n}\r\n\r\nasync function fetchExercises(reset = true) {\r\n  if (reset) localResponse = [];\r\n\r\n  let preparedFilter = filter.toLowerCase();\r\n  if (preparedFilter === 'body parts') preparedFilter = 'bodypart';\r\n\r\n  const url = `\r\n    https://your-energy.b.goit.study/api/exercises?\r\n    ${preparedFilter}=${name}\r\n    &keyword=${keyWord}\r\n    &page=${page}\r\n    &limit=${limitx}\r\n  `.replace(/\\s+/g, '');\r\n\r\n  const res = await fetch(url);\r\n  const data = await res.json();\r\n\r\n  if (!data.results.length) {\r\n    showNoResults();\r\n    return;\r\n  }\r\n\r\n  localResponse = data.results;\r\n  makeExercisesCards(data.results);\r\n  renderPagination(data.totalPages);\r\n}\r\n\r\nasync function makeExercisesCards(response) {\r\n  refs.exercises.innerHTML = '';\r\n  localResponse = response;\r\n\r\n  const markup = `\r\n    <ul class=\"exercises-cards\">\r\n      ${response\r\n        .map(\r\n          ({ name, _id, rating, burnedCalories, bodyPart, target, time }) => {\r\n            let calories = `${burnedCalories} / ${time} min`;\r\n            if (rating % 1 === 0) rating += '.0';\r\n            rating = parseFloat(rating).toFixed(1);\r\n            return `\r\n              <li class=\"exercise-information\" data-id-card=\"${_id}\">\r\n                <div class=\"top-nav\">\r\n                  <div>\r\n                    <p class=\"tag\">Workout</p>\r\n                    <span class=\"rating\">\r\n                      ${rating}\r\n                      <svg class=\"star-icon\" width=\"14\" height=\"14\">\r\n                        <use href=\"/js_university_project0.1/icons.svg#icon-star\"></use>\r\n                      </svg>\r\n                    </span>\r\n                  </div>\r\n                  <button\r\n                    name=\"start\"\r\n                    data-action=\"start\"\r\n                    data-id=\"${_id}\"\r\n                    class=\"details-link\">\r\n                    Start\r\n                    <svg class=\"arrow-icon\" width=\"16\" height=\"16\">\r\n                      <use href=\"/js_university_project0.1/icons.svg#icon-arrow\"></use>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n\r\n                <div class=\"exercise-header\">\r\n                  <svg class=\"icon-man\" fill=\"white\" width=\"24\" height=\"24\">\r\n                    <use href=\"/js_university_project0.1/icons.svg#icon-run\"></use>\r\n                  </svg>\r\n                  <h2 class=\"exercise-name\">\r\n                    ${capitalize(name)}\r\n                  </h2>\r\n                </div>\r\n\r\n                <ul class=\"exercise-details\">\r\n                  <li>\r\n                    <span>Burned calories:</span>\r\n                    ${calories}\r\n                  </li>\r\n                  <li>\r\n                    <span>Body part:</span>\r\n                    ${capitalize(bodyPart)}\r\n                  </li>\r\n                  <li>\r\n                    <span>Target:</span>\r\n                    ${capitalize(target)}\r\n                  </li>\r\n                </ul>\r\n              </li>\r\n            `;\r\n          }\r\n        )\r\n        .join('')}\r\n    </ul>\r\n    <ul class=\"nav-buttons pagination\" id=\"pagination-container\"></ul>\r\n  `;\r\n\r\n  refs.exercises.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction onLiveSearch(event) {\r\n  const value = event.target.value.trim().toLowerCase();\r\n  keyWord = value;\r\n  page = 1;\r\n\r\n  refs.exercises.innerHTML = '';\r\n\r\n  fetchExercises(true);\r\n}\r\n\r\nfunction onSearch(event) {\r\n  event.preventDefault();\r\n\r\n  keyWord = event.target.searchQuery.value.trim();\r\n  page = 1;\r\n  filter = '';\r\n  currentFilter = '';\r\n  refs.exercises.innerHTML = '';\r\n  refs.exercisesTitle.textContent = `Search results for \"${keyWord}\"`;\r\n  refs.searchForm.style.display = 'block';\r\n\r\n  if (!keyWord) {\r\n    currentFilter = 'Muscles';\r\n    refs.exercisesTitle.textContent = 'Exercises';\r\n    refs.searchForm.style.display = 'none';\r\n    fetchFilters(true);\r\n  } else {\r\n    fetchExercises(true);\r\n  }\r\n}\r\n\r\nfunction renderPagination(totalPages) {\r\n  const paginationContainer = document.querySelector('#pagination-container');\r\n  if (!paginationContainer) return;\r\n  if (totalPages <= 1) {\r\n    paginationContainer.innerHTML = '';\r\n    return;\r\n  }\r\n\r\n  let html = '';\r\n\r\n  const createPageBtn = p => `\r\n    <li>\r\n      <button\r\n        class=\"pagination-btn ${p === page ? 'active' : ''}\"\r\n        data-page=\"${p}\">\r\n        ${p}\r\n      </button>\r\n    </li>\r\n  `;\r\n\r\n  let start = Math.max(1, page - 1);\r\n  let end = Math.min(totalPages, page + 1);\r\n\r\n  if (page === 1) end = Math.min(totalPages, 3);\r\n  if (page === totalPages) start = Math.max(1, totalPages - 2);\r\n\r\n  if (start > 1) {\r\n    html += createPageBtn(1);\r\n    if (start > 2 && totalPages > 4) html += `<li class=\"dots\">...</li>`;\r\n  }\r\n\r\n  for (let i = start; i <= end; i++) html += createPageBtn(i);\r\n\r\n  if (end < totalPages) {\r\n    if (end < totalPages - 1 && totalPages > 4)\r\n      html += `<li class=\"dots\">...</li>`;\r\n    html += createPageBtn(totalPages);\r\n  }\r\n\r\n  paginationContainer.innerHTML = html;\r\n}\r\n\r\n\r\nrefs.exercises.addEventListener('click', e => {\r\n  const btn = e.target.closest('.pagination-btn');\r\n  if (!btn) return;\r\n\r\n  const selectedPage = Number(btn.dataset.page);\r\n  if (selectedPage === page) return;\r\n\r\n  page = selectedPage;\r\n  refs.exercises.innerHTML = '';\r\n\r\n  filter ? fetchExercises(false) : fetchFilters(false);\r\n});\r\n\r\n\r\nrefs.exercises.addEventListener('click', event => {\r\n  const btn = event.target.closest('[data-action=\"start\"]');\r\n  if (!btn) return;\r\n\r\n  const exercise = localResponse.find(el => el._id === btn.dataset.id);\r\n  handlerStartBtn(exercise);\r\n});\r\n\r\n\r\nfunction showNoResults() {\r\n  refs.exercises.innerHTML = `\r\n    <p class=\"no-results-paragraph\">\r\n      Unfortunately, <span>no results</span> were found.\r\n    </p>\r\n  `;\r\n  refs.loadMoreBtn?.style.setProperty('display', 'none');\r\n  if (refs.pagination) {\r\n    refs.pagination.innerHTML = '';\r\n  }\r\n}\r\n\r\nfunction capitalize(str) {\r\n  return str[0].toUpperCase() + str.slice(1);\r\n}\r\n\r\n","export async function postSubscriptions(email) {\r\n  const response = await fetch(\r\n    'https://your-energy.b.goit.study/api/subscription',\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email }),\r\n    }\r\n  );\r\n\r\n  if (response.status === 409) {\r\n    throw new Error('EMAIL_EXISTS');\r\n  }\r\n\r\n  if (!response.ok) {\r\n    throw new Error('REQUEST_FAILED');\r\n  }\r\n\r\n  return await response.json();\r\n}\r\n\r\nconst email = document.querySelector('input[name=email]');\r\nconst submitBtnFooter = document.querySelector('.footer-send-button');\r\nconst STORAGE_KEY = 'feedback-form-state';\r\n\r\nfunction isValidEmail(value) {\r\n  const emailRegex = /^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/;\r\n  return emailRegex.test(value);\r\n}\r\n\r\nfunction saveToLocalStorage() {\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify({ email: email.value }));\r\n}\r\n\r\nfunction loadFromLocalStorage() {\r\n  const data = localStorage.getItem(STORAGE_KEY);\r\n  if (!data) return;\r\n\r\n  const { email: savedEmail } = JSON.parse(data);\r\n  email.value = savedEmail || '';\r\n  submitBtnFooter.disabled = !isValidEmail(email.value);\r\n}\r\n\r\nloadFromLocalStorage();\r\n\r\nemail.addEventListener('input', () => {\r\n  saveToLocalStorage();\r\n  submitBtnFooter.disabled = !isValidEmail(email.value);\r\n});\r\n\r\nemail.addEventListener('change', () => {\r\n  if (!isValidEmail(email.value)) {\r\n    alert('Please enter a valid email address');\r\n  }\r\n});\r\n\r\nsubmitBtnFooter.addEventListener('click', async e => {\r\n  e.preventDefault();\r\n\r\n  if (!isValidEmail(email.value)) return;\r\n\r\n  try {\r\n    await postSubscriptions(email.value);\r\n\r\n    alert('Success! Welcome to energy.flow world!');\r\n\r\n    email.value = '';\r\n    submitBtnFooter.disabled = true;\r\n    localStorage.removeItem(STORAGE_KEY);\r\n  } catch (error) {\r\n    if (error.message === 'EMAIL_EXISTS') {\r\n      alert('Email already exists');\r\n    } else {\r\n      alert('Something went wrong! Please try again later');\r\n    }\r\n  }\r\n});\r\n","const openMenuButton = document.querySelector('.open-mobile-menu-btn');\r\nconst closeMenuButton = document.querySelector('.close-mobile-menu-btn');\r\nconst mobileMenuWrapper = document.querySelector('.mobile-menu-wrapper');\r\nconst mobileMenu = document.querySelector('.mobile-menu');\r\n\r\nopenMenuButton.addEventListener('click', () => {\r\n  mobileMenuWrapper.classList.add('is-open');\r\n  document.body.classList.add('not-scrollable');\r\n});\r\n\r\ncloseMenuButton.addEventListener('click', () => {\r\n  closeMenu();\r\n});\r\n\r\nmobileMenuWrapper.addEventListener('click', () => {\r\n  closeMenu();\r\n});\r\n\r\nmobileMenu.addEventListener('click', e => {\r\n  e.stopPropagation();\r\n});\r\n\r\nfunction closeMenu() {\r\n  mobileMenuWrapper.classList.remove('is-open');\r\n  document.body.classList.remove('not-scrollable');\r\n}\r\n\r\n"],"names":["refs","limit","limitx","page","currentFilter","searchQuery","keyWord","filter","name","localResponse","displayQuote","fetchFilters","pressFilterBtn","loadExercises","onLiveSearch","_a","reset","url","data","showNoResults","makeFilterCards","renderPagination","items","markup","imgURL","event","card","filterEl","nameEl","capitalize","fetchExercises","preparedFilter","makeExercisesCards","response","_id","rating","burnedCalories","bodyPart","target","time","calories","totalPages","paginationContainer","html","createPageBtn","p","start","end","i","btn","selectedPage","exercise","el","handlerStartBtn","str","postSubscriptions","email","submitBtnFooter","STORAGE_KEY","isValidEmail","value","saveToLocalStorage","loadFromLocalStorage","savedEmail","error","openMenuButton","closeMenuButton","mobileMenuWrapper","mobileMenu","closeMenu"],"mappings":"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"}