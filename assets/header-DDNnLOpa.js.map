{"version":3,"file":"header-DDNnLOpa.js","sources":["../../src/js/api.js","../../src/js/LS.js","../../src/js/exercise.js","../../src/js/quote.js","../../src/js/favouriteEx.js","../../src/js/rating-modal.js","../../src/js/exercises-modal.js","../../src/js/header.js"],"sourcesContent":["export async function fetchFilterss(\r\n  currentFilter,\r\n  page,\r\n  limit,\r\n  searchQuery = ''\r\n) {\r\n  let url = `https://your-energy.b.goit.study/api/filters?filter=${currentFilter}&page=${page}&limit=${limit}`;\r\n\r\n  if (searchQuery.trim()) {\r\n    url += `&name=${searchQuery}`;\r\n  }\r\n\r\n  const res = await fetch(url);\r\n  return res.json();\r\n}\r\n\r\nexport async function fetchExercisess(filter, name, keyWord, page, limitx) {\r\n  let preparedFilter = filter.toLowerCase();\r\n  if (preparedFilter === 'body parts') preparedFilter = 'bodypart';\r\n\r\n  const url = `\r\n    https://your-energy.b.goit.study/api/exercises?\r\n    ${preparedFilter}=${name}\r\n    &keyword=${keyWord}\r\n    &page=${page}\r\n    &limit=${limitx}\r\n  `.replace(/\\s+/g, '');\r\n\r\n  const res = await fetch(url);\r\n  return res.json();\r\n}\r\n\r\nexport async function postSubscriptions(email) {\r\n  const response = await fetch(\r\n    'https://your-energy.b.goit.study/api/subscription',\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email }),\r\n    }\r\n  );\r\n\r\n  if (response.status === 409) {\r\n    throw new Error('EMAIL_EXISTS');\r\n  }\r\n\r\n  if (!response.ok) {\r\n    throw new Error('REQUEST_FAILED');\r\n  }\r\n\r\n  return await response.json();\r\n}\r\n\r\nexport async function fetchDailyQuote() {\r\n  const response = await fetch('https://your-energy.b.goit.study/api/quote');\r\n  return response.json();\r\n}\r\nexport async function addExerciseRatingById(id, { email, rate, comment }) {\r\n  const url = `https://your-energy.b.goit.study/api/exercises/${id}/rating`;\r\n  rate = Number(rate);\r\n\r\n  const response = await fetch(url, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      rate,\r\n      review: comment,\r\n    }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const errorData = await response.json();\r\n    throw new Error(errorData.message || 'Rating failed');\r\n  }\r\n\r\n  return response.json();\r\n}","import { fetchDailyQuote } from './api.js';\r\n\r\nexport const STORAGE_KEY_FAVORITES = 'userFavorites';\r\n\r\nconst STORAGE_KEY_QUOTE = 'dailyQuote';\r\nconst STORAGE_KEY_QUOTE_TIME = 'quoteTimestamp';\r\nconst MILLISECONDS_IN_A_DAY = 86_400_000;\r\n\r\nexport const loadFavorites = () => {\r\n  try {\r\n    const data = localStorage.getItem(STORAGE_KEY_FAVORITES);\r\n    return data ? JSON.parse(data) : [];\r\n  } catch (error) {\r\n    console.error('Failed to load favorites:', error.message);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const saveFavorites = favorites => {\r\n  localStorage.setItem(STORAGE_KEY_FAVORITES, JSON.stringify(favorites));\r\n};\r\n\r\nexport const isFavorite = id => {\r\n  return loadFavorites().some(item => item._id === id);\r\n};\r\n\r\nexport const addFavorite = exercise => {\r\n  const favorites = loadFavorites();\r\n  if (!favorites.some(item => item._id === exercise._id)) {\r\n    favorites.push(exercise);\r\n    saveFavorites(favorites);\r\n  }\r\n};\r\n\r\nexport const removeFavoriteById = id => {\r\n  const updated = loadFavorites().filter(item => item._id !== id);\r\n  saveFavorites(updated);\r\n};\r\n\r\nexport const toggleFavorite = exercise => {\r\n  if (isFavorite(exercise._id)) {\r\n    removeFavoriteById(exercise._id);\r\n    return false;\r\n  } else {\r\n    addFavorite(exercise);\r\n    return true;\r\n  }\r\n};\r\n\r\nexport async function getDailyQuote() {\r\n  const cachedQuote = localStorage.getItem(STORAGE_KEY_QUOTE);\r\n  const cachedTimestamp = localStorage.getItem(STORAGE_KEY_QUOTE_TIME);\r\n\r\n  if (\r\n    cachedQuote &&\r\n    cachedTimestamp &&\r\n    Date.now() - Number(cachedTimestamp) < MILLISECONDS_IN_A_DAY\r\n  ) {\r\n    return JSON.parse(cachedQuote);\r\n  }\r\n\r\n  try {\r\n    const quoteData = await fetchDailyQuote();\r\n    localStorage.setItem(STORAGE_KEY_QUOTE, JSON.stringify(quoteData));\r\n    localStorage.setItem(STORAGE_KEY_QUOTE_TIME, Date.now().toString());\r\n    return quoteData;\r\n  } catch (error) {\r\n    console.error('Failed to fetch daily quote:', error);\r\n    return cachedQuote\r\n      ? JSON.parse(cachedQuote)\r\n      : { text: 'No quote available', author: 'Unknown' };\r\n  }\r\n}\r\n","export function renderExercises(data, isFavourite) {\r\n  return data\r\n    .map(exercise => {\r\n      let {\r\n        _id,\r\n        name,\r\n        burnedCalories,\r\n        bodyPart,\r\n        target,\r\n        time = 3,\r\n        rating,\r\n      } = exercise;\r\n\r\n      let calories = `${burnedCalories} / ${time} min`;\r\n\r\n      return `\r\n        <li class=\"exercise-information\" data-id-card=\"${_id}\">\r\n          <div class=\"top-nav\">\r\n            <div>\r\n              <p class=\"tag\">Workout</p>\r\n              ${\r\n                isFavourite\r\n                  ? `<button data-action=\"delete\" data-id=\"${_id}\" class=\"trash-btn\">\r\n                      <svg width=\"16\" height=\"16\">\r\n                        <use href=\"/js_university_project0.1/iconic.svg#icon-trash\"></use>\r\n                      </svg>\r\n                    </button>`\r\n                  : `<span class=\"rating\">\r\n                      ${rating}\r\n                      <svg class=\"star-icon\" width=\"14\" height=\"14\">\r\n                        <use href=\"/js_university_project0.1/iconic.svg#icon-star\"></use>\r\n                      </svg>\r\n                    </span>`\r\n              }\r\n            </div>\r\n\r\n            <button data-action=\"start\" data-id=\"${_id}\" class=\"details-link\">\r\n              Start\r\n              <svg width=\"16\" height=\"16\" class=\"arrow-icon\">\r\n                <use href=\"${isFavourite ? '/js_university_project0.1/iconic.svg#icon-arrow' : '/js_university_project0.1/iconic.svg#icon-arrow'}\"></use>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"exercise-header\">\r\n            <svg width=\"24\" height=\"24\">\r\n              <use href=\"${isFavourite ? '/js_university_project0.1/iconic.svg#icon-run' : '/js_university_project0.1/iconic.svg#icon-run'}\"></use>\r\n            </svg>\r\n            <h2 class=\"exercise-name\">${name}</h2>\r\n          </div>\r\n\r\n          <ul class=\"exercise-details\">\r\n            <li><span>Burned calories:</span> ${calories}</li>\r\n            <li><span>Body part:</span> ${isFavourite ? bodyPart : capitalize(bodyPart)}</li>\r\n            <li><span>Target:</span> ${isFavourite ? target : capitalize(target)}</li>\r\n          </ul>\r\n        </li>\r\n      `;\r\n    })\r\n    .join('');\r\n}\r\n\r\nfunction capitalize(str) {\r\n  if (!str) return '';\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n","import { getDailyQuote } from './LS.js';\r\n\r\nexport async function renderQuoteHTML(container) {\r\n    const { quote, author } = await getDailyQuote();\r\n    container.innerHTML = ` \r\n    <svg width=\"32\" height=\"32\" class=\"quote-text-icon\">\r\n      <use href=\"/js_university_project0.1/iconic.svg#icon-run\"></use>\r\n    </svg>\r\n    <div>\r\n      <h3 class=\"main-quote-title\">Quote of the day</h3>\r\n      <p class=\"main-quote-text\">${quote}</p>\r\n      <p class=\"main-quote-author\">${author}</p>\r\n      <svg width=\"24\" height=\"24\" class=\"quote-text-icon-commas\">\r\n        <use href=\"/js_university_project0.1/iconic.svg#icon-commas\"></use>\r\n      </svg>\r\n    </div>\r\n    `;\r\n};\r\n","import handlerStartBtn from './exercises-modal.js';\r\nimport { loadFavorites, removeFavoriteById } from './LS.js';\r\nimport { renderExercises } from './exercise.js';\r\nimport { renderQuoteHTML } from './quote.js';\r\n\r\nconst refs = {\r\n  root: document.querySelector('.container-fav'),\r\n  quote: document.querySelector('.quote'),\r\n};\r\n\r\nlet page = 1;\r\nconst CARDS_PER_PAGE = 8;\r\nconst DESKTOP_BREAKPOINT = 1140;\r\n\r\n\r\nconst paginate = (arr, page) =>\r\n  arr.slice((page - 1) * CARDS_PER_PAGE, page * CARDS_PER_PAGE);\r\n\r\nconst uniqueById = arr =>\r\n  arr.filter(\r\n    (item, index, self) => index === self.findIndex(el => el._id === item._id)\r\n  );\r\n\r\nfunction renderPagination(totalPages) {\r\n  if (totalPages <= 1) return '';\r\n\r\n  let html = `<ul class=\"pagination\">`;\r\n\r\n  html += pageBtn(page - 1, '←', page === 1);\r\n\r\n  for (let i = 1; i <= totalPages; i++) {\r\n    if (i === 1 || i === totalPages || Math.abs(i - page) <= 1) {\r\n      html += pageBtn(i, i, false, i === page);\r\n    } else if (i === page - 2 || i === page + 2) {\r\n      html += `<li class=\"dots\">...</li>`;\r\n    }\r\n  }\r\n\r\n  html += pageBtn(page + 1, '→', page === totalPages);\r\n  html += `</ul>`;\r\n\r\n  return html;\r\n}\r\n\r\nfunction pageBtn(p, label, disabled = false, active = false) {\r\n  return `\r\n    <li>\r\n      <button\r\n        class=\"pagination-btn ${active ? 'active' : ''}\"\r\n        data-page=\"${p}\"\r\n        ${disabled ? 'disabled' : ''}>\r\n        ${label}\r\n      </button>\r\n    </li>\r\n  `;\r\n}\r\n\r\nexport function checkStorage() {\r\n  if (!refs.root) return;\r\n\r\n  const favorites = uniqueById(loadFavorites());\r\n  const isDesktop = window.innerWidth >= DESKTOP_BREAKPOINT;\r\n\r\n  if (!favorites.length) {\r\n    refs.root.innerHTML = `\r\n      <p class=\"no_cards_wrapper\">\r\n        You haven't added any exercises to your favorites yet.\r\n      </p>\r\n    `;\r\n    return;\r\n  }\r\n\r\n  const totalPages = Math.ceil(favorites.length / CARDS_PER_PAGE);\r\n  if (page > totalPages) page = totalPages;\r\n\r\n  const cards = isDesktop ? favorites : paginate(favorites, page);\r\n\r\n  refs.root.innerHTML = `\r\n    <ul class=\"fav_card_list\">\r\n      ${renderExercises(cards, true)}\r\n    </ul>\r\n    ${!isDesktop ? renderPagination(totalPages) : ''}\r\n  `;\r\n}\r\n\r\nrefs.root?.addEventListener('click', e => {\r\n  const delBtn = e.target.closest('[data-action=\"delete\"]');\r\n  const startBtn = e.target.closest('[data-action=\"start\"]');\r\n  const pageBtnEl = e.target.closest('.pagination-btn');\r\n\r\n  if (delBtn) {\r\n    removeFavoriteById(delBtn.dataset.id);\r\n    checkStorage();\r\n  }\r\n\r\n  if (startBtn) {\r\n    const exercise = loadFavorites().find(el => el._id === startBtn.dataset.id);\r\n    if (exercise) handlerStartBtn(exercise, true);\r\n  }\r\n\r\n  if (pageBtnEl) {\r\n    const newPage = Number(pageBtnEl.dataset.page);\r\n    if (newPage === page || newPage < 1) return;\r\n\r\n    page = newPage;\r\n    checkStorage();\r\n  }\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n  page = 1;\r\n  checkStorage();\r\n});\r\n\r\ncheckStorage();\r\nrenderQuoteHTML(refs.quote);\r\n","import { addExerciseRatingById } from './api.js';\r\n\r\nconst refs = {\r\n  closeBtn: document.getElementById('form-close-btn'),\r\n  backdrop: document.querySelector('.backdrop'),\r\n  form: document.querySelector('.backdrop-form'),\r\n  email: document.getElementById('user-email'),\r\n  comment: document.getElementById('user-comment'),\r\n  ratingWrapper: document.querySelector('.rating-wrapper'),\r\n  ratingValue: document.querySelector('.rating-star-value'),\r\n  stars: document.querySelectorAll('.rating-star-icons'),\r\n};\r\n\r\nlet exerciseId = null;\r\n\r\nconst feedback = {\r\n  rate: 0,\r\n  email: '',\r\n  comment: '',\r\n};\r\n\r\nconst resetForm = () => {\r\n  refs.form.reset();\r\n  feedback.rate = 0;\r\n  refs.ratingValue.textContent = '0.0';\r\n  refs.stars.forEach(star => (star.style.fill = 'var(--white-20)'));\r\n};\r\n\r\nrefs.closeBtn.onclick = () => refs.backdrop.classList.remove('is-open');\r\n\r\nrefs.backdrop.onclick = e => {\r\n  if (e.target === refs.backdrop) refs.backdrop.classList.remove('is-open');\r\n};\r\n\r\nrefs.ratingWrapper.onclick = ({ target }) => {\r\n  const rate = Number(target.dataset.id);\r\n  if (!rate) return;\r\n\r\n  feedback.rate = rate;\r\n  refs.ratingValue.textContent = `${rate}.0`;\r\n\r\n  refs.stars.forEach((star, i) => {\r\n    star.style.fill = i < rate ? 'var(--star-color)' : 'var(--white-20)';\r\n  });\r\n};\r\n\r\nexport const handlerOpenRate = id => {\r\n  exerciseId = id;\r\n  refs.backdrop.classList.add('is-open');\r\n};\r\n\r\nrefs.form.onsubmit = async e => {\r\n  e.preventDefault();\r\n\r\n  feedback.email = refs.email.value.trim();\r\n  feedback.comment = refs.comment.value.trim() || undefined;\r\n\r\n  if (!feedback.rate) return alert('Please select a rating');\r\n  if (!feedback.email) return alert('Please enter your email');\r\n\r\n  try {\r\n    await addExerciseRatingById(exerciseId, feedback);\r\n    alert('Your rating is accepted');\r\n    resetForm();\r\n    refs.backdrop.classList.remove('is-open');\r\n  } catch ({ message }) {\r\n    alert(`Error: ${message}`);\r\n  }\r\n};\r\n","import { isFavorite, toggleFavorite } from './LS.js';\r\nimport { checkStorage } from './favouriteEx';\r\nimport { handlerOpenRate } from './rating-modal';\r\n\r\nconst cardBackdrop = document.querySelector('.exr-card-backdrop');\r\n\r\nconst capitalizeFirstLetter = str =>\r\n  `${str.charAt(0).toUpperCase()}${str.slice(1)}`;\r\n\r\nexport default function handlerStartBtn(exercise, isFav = false) {\r\n  const favourite = isFav || isFavorite(exercise._id);\r\n\r\n  renderModal(exercise, favourite);\r\n\r\n  cardBackdrop.classList.add('card-is-open');\r\n  document.body.classList.add('not-scrollable');\r\n}\r\n\r\nfunction renderModal(data, initialFavourite) {\r\n  let isFavourite = initialFavourite;\r\n\r\n  cardBackdrop.innerHTML = `\r\n    <div class=\"exr-card-cont\">\r\n      <button name=\"close\" id=\"close-card\" type=\"button\" class=\"close-card-button\">\r\n      <svg class=\"close-card-icon\"\">\r\n        <use href=\"/js_university_project0.1/iconic.svg#icon-x\"></use>\r\n      </svg>\r\n      </button>\r\n      <img src=\"${data.gifUrl}\" alt=\"example-img\" class=\"exr-image\" />\r\n      <div>\r\n      <h3 class=\"exercise-name\">${capitalizeFirstLetter(data.name)}</h3>\r\n      <div class=\"rating-container\">\r\n        <ul class=\"star-rating-list\">\r\n          <li>\r\n            <p class=\"rating-score\">${data.rating}</p>\r\n          </li>\r\n          <li>\r\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\r\n              <use href=\"/js_university_project0.1/iconic.svg#icon-star\"></use>\r\n            </svg>\r\n          </li>\r\n          <li>\r\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\r\n              <use href=\"/js_university_project0.1/iconic.svg#icon-star\"></use>\r\n            </svg>\r\n          </li>\r\n          <li>\r\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\r\n              <use href=\"/js_university_project0.1/iconic.svg#icon-star\"></use>\r\n            </svg>\r\n          </li>\r\n          <li>\r\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\r\n              <use href=\"/js_university_project0.1/iconic.svg#icon-star\"></use>\r\n            </svg>\r\n          </li>\r\n          <li>\r\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\r\n              <use href=\"/js_university_project0.1/iconic.svg#icon-star\"></use>\r\n            </svg>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"exr-information-container\">\r\n        <div class=\"exr-info-block\">\r\n          <p class=\"info-label\">Target</p>\r\n          <p class=\"exr-info\" id=\"exr-target\">${capitalizeFirstLetter(\r\n            data.target\r\n          )}</p>\r\n        </div>\r\n        <div class=\"exr-info-block\">\r\n          <p class=\"info-label\">Body Part</p>\r\n          <p class=\"exr-info\" id=\"body-part\">${capitalizeFirstLetter(\r\n            data.bodyPart\r\n          )}</p>\r\n        </div>\r\n        <div class=\"exr-info-block\">\r\n          <p class=\"info-label\">Equipment</p>\r\n          <p class=\"exr-info\" id=\"exr-equip\">${capitalizeFirstLetter(\r\n            data.equipment\r\n          )}</p>\r\n        </div>\r\n        <div class=\"exr-info-block\">\r\n          <p class=\"info-label\">Popular</p>\r\n          <p class=\"exr-info\" id=\"exr-popularity\">${data.popularity}</p>\r\n        </div>\r\n        <div class=\"exr-info-block\">\r\n          <p class=\"info-label\">Burned Calories</p>\r\n          <p class=\"exr-info\" id=\"burned-cal\">${data.burnedCalories}/${data.time} min</p>\r\n        </div>\r\n      </div>\r\n      <p class=\"exr-description\">${data.description}</p>\r\n      <div class=\"buttons-cont\">\r\n        <button name=\"add-favorurite\" class=\"add-favourite-btn\">\r\n          ${isFavourite ? 'Remove from' : 'Add to favourites'}\r\n          <svg class=\"heart-icon\" width=\"20px\" height=\"20px\">\r\n            <use href=\"/js_university_project0.1/iconic.svg#icon-heart\"></use>\r\n          </svg>\r\n        </button>\r\n        <button name=\"rating\" class=\"give-rating-btn\">Give a rating</button>\r\n      </div>\r\n    </div>`;\r\n\r\n  paintStars(data.rating);\r\n\r\n  const favBtn = document.querySelector('.add-favourite-btn');\r\n  favBtn.addEventListener('click', () => {\r\n    isFavourite = toggleFavorite(data);\r\n    favBtn.innerHTML = `\r\n    ${isFavourite ? 'Remove from' : 'Add to favourites'}\r\n    <svg class=\"heart-icon\" width=\"20\" height=\"20\">\r\n      <use href=\"/js_university_project0.1/iconic.svg#icon-heart\"></use>\r\n    </svg>\r\n  `;\r\n\r\n    checkStorage();\r\n  });\r\n\r\n\r\n  document.getElementById('close-card').onclick = closeModal;\r\n  cardBackdrop.onclick = e => e.target === cardBackdrop && closeModal();\r\n\r\n  document.querySelector('.give-rating-btn').onclick = () => {\r\n    closeModal();\r\n    handlerOpenRate(data._id);\r\n  };\r\n}\r\n\r\nfunction closeModal() {\r\n  cardBackdrop.classList.remove('card-is-open');\r\n  document.body.classList.remove('not-scrollable');\r\n}\r\n\r\nfunction paintStars(rating) {\r\n  document.querySelectorAll('.star-rating-icon').forEach((star, i) => {\r\n    if (i < Math.round(rating)) star.style.fill = '#eea10c';\r\n  });\r\n}\r\n","const mobileMenu = document.querySelector('.mobile-menu');\r\nconst openMenuButton = document.querySelector('.open-mobile-menu-btn');\r\nconst closeMenuButton = document.querySelector('.close-mobile-menu-btn');\r\nconst mobileMenuWrapper = document.querySelector('.mobile-menu-wrapper');\r\n\r\nmobileMenu.addEventListener('click', e => {\r\n  e.stopPropagation();\r\n});\r\n\r\nfunction closeMenu() {\r\n  mobileMenuWrapper.classList.remove('is-open');\r\n  document.body.classList.remove('not-scrollable');\r\n}\r\n\r\n\r\nconst toggleMenu = isOpen => {\r\n  mobileMenuWrapper.classList.toggle('is-open', isOpen);\r\n  document.body.classList.toggle('not-scrollable', isOpen);\r\n};\r\n\r\nopenMenuButton.addEventListener('click', () => toggleMenu(true));\r\ncloseMenuButton.addEventListener('click', () => toggleMenu(false));\r\nmobileMenuWrapper.addEventListener('click', () => toggleMenu(false));"],"names":["fetchFilterss","currentFilter","page","limit","searchQuery","url","fetchExercisess","filter","name","keyWord","limitx","preparedFilter","postSubscriptions","email","response","fetchDailyQuote","addExerciseRatingById","id","rate","comment","errorData","STORAGE_KEY_FAVORITES","STORAGE_KEY_QUOTE","STORAGE_KEY_QUOTE_TIME","MILLISECONDS_IN_A_DAY","loadFavorites","data","error","saveFavorites","favorites","isFavorite","item","addFavorite","exercise","removeFavoriteById","updated","toggleFavorite","getDailyQuote","cachedQuote","cachedTimestamp","quoteData","renderExercises","isFavourite","_id","burnedCalories","bodyPart","target","time","rating","calories","capitalize","str","renderQuoteHTML","container","quote","author","refs","CARDS_PER_PAGE","DESKTOP_BREAKPOINT","paginate","arr","uniqueById","index","self","el","renderPagination","totalPages","html","pageBtn","i","p","label","disabled","active","checkStorage","isDesktop","cards","delBtn","startBtn","pageBtnEl","handlerStartBtn","newPage","exerciseId","feedback","resetForm","star","handlerOpenRate","message","cardBackdrop","capitalizeFirstLetter","isFav","favourite","renderModal","initialFavourite","paintStars","favBtn","closeModal","e","mobileMenu","openMenuButton","closeMenuButton","mobileMenuWrapper","toggleMenu","isOpen"],"mappings":"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"}